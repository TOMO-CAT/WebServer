# 静态库

## 简介

* 库文件是计算机上的一类文件，可以简单把库文件当作代码仓库，它提供给使用者可以直接使用的变量、函数或类
* 库是特殊的一种程序，编写库的程序和编写一般的程序区别不大，只是库不能单独运行
* 库文件包含静态库和动态库（共享库），区别是静态库在程序链接阶段被赋值到程序中，而动态库在运行时由系统动态加载到内存中供程序调用
* 库的好处在于代码保密和方便部署

## 命名规则

在 Linux 下命名为 `libxxx.a`：

* lib：固定前缀
* xxx：库名
* .a：固定后缀

## 静态库制作

将 .o 文件通过 ar （archive）工具打包成静态库：

```bash
ar rcs libxxx.a xxx.o xxx.o ...
```

* r：将 .o 文件插入 .a 文件中
* c：创建 .a 文件
* s：创建索引

## 静态库使用

假设 main.cc 文件依赖了在 ./lib 文件夹中的 libxxx.a 静态库：

```bash
g++ main.cc -o main -L ./lib -l xxx
```
