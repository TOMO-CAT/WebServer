# 网段和子网掩码

## 简介

### 1. 网段

网段指的是在计算机网络中，**根据网络地址和子网掩码** 划分出来的一段地址范围。

网络地址用于标识一个网络，而子网掩码用于划分这个网络中的不同子网。通过将网络地址和子网掩码进行逻辑运算，可以得到每个子网的网络地址和广播地址，以及该子网中可以分配给主机使用的 IP 地址范围。网段通常用于配置网络设备的 IP 地址和路由表的配置。

### 2. 子网掩码

子网掩码用于划分 IP 地址中网络地址和主机地址的部分，以便识别出网络和主机之间的边界。

## 例子

当一台计算机在网络上发送数据时，首先需要确定目标计算机的 IP 地址。**如果目标计算机和发送计算机在同一个网段内，那么发送计算机可以直接发送数据包给目标计算机**。**如果目标计算机和发送计算机不在同一个网段内，那么发送计算机就需要通过路由器进行转发**。

> IP 地址后面的斜杠后面跟着的数字通常是子网掩码的前缀长度，也称为子网掩码位数。

### 1. 192.168.0.0/24

这是一个私有 IP 地址段，通常用于家庭和小型办公室网络中。它的子网掩码为 255.255.255.0，意味着这个网段可以容纳 256 个 IP 地址，其中 254 个可以分配给主机使用，**而另外两个分别是网络地址和广播地址**。

### 2. 10.0.0.0/8

这也是一个私有 IP 地址段，通常用于大型企业或组织的内部网络中。它的子网掩码为 255.0.0.0，意味着这个网段可以容纳 16,777,216 个 IP 地址。

### 3. 172.16.0.0/12

这是另一个私有 IP 地址段，通常用于中型到大型企业或组织的内部网络中。它的子网掩码为 255.240.0.0，意味着这个网段可以容纳 1,048,576 个 IP 地址。

### 4. 203.0.113.0/24

这是一个公共 IP 地址段，它的子网掩码为 255.255.255.0，意味着这个网段可以容纳 256 个 IP 地址。这个网段通常用于演示或测试目的，不应在生产环境中使用。

## 子网掩码长度

IP 地址后面的斜杠后面跟着的数字通常是子网掩码的前缀长度，也称为子网掩码位数。

子网掩码的前缀长度指的是在子网掩码中，从最高位（左侧）开始，到第一个 0 的位置为止的二进制位数。例如：

* 如果子网掩码是 255.255.255.0，它的二进制表示为 11111111.11111111.11111111.00000000，其中前面 24 个位是 1，后面 8 个位是 0。因此，IP 地址后面跟着的斜杠 24 表示子网掩码为 255.255.255.0。
* 如果子网掩码是 255.0.0.0，它的二进制表示为 11111111.00000000.00000000.00000000，其中前面 8 个位是 1，后面 24 个位是 0。因此，IP 地址后面跟着的斜杠 8 表示子网掩码为 255.0.0.0。
* 如果子网掩码是 255.240.0.0，它的二进制表示为 11111111.11110000.00000000.00000000，其中前面 12 个位是 1，后面 20 个位是 0。因此，IP 地址后面跟着的斜杠 12 表示子网掩码为 255.240.0.0。

**斜杠后面的数字告诉我们有多少位被用作网络地址，其余的位用作主机地址。这样，一个 IP 地址可以分为网络地址和主机地址两个部分，用于路由器转发数据包和识别网络内的主机。**

## Reference

[1] <https://chat.openai.com/chat>
